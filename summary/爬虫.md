# 爬虫

## 基本架构

调度器

url管理器  内存，关系数据库(mysql)，缓存数据库(redis)

url下载器

url解析器

应用数据 -> 存储数据



## Session/Cookies

http协议是无状态的，服务端为了记住用户，在服务端建立session来标定每个用户，并跟踪用户。在服务端保存Session的方法很多，内存、数据库、文件都有。集群的时候也要考虑Session的转移。

服务端用cookies来识别特定的用户，。每次HTTP请求的时候，客户端都会发送相应的Cookie信息到服务端。实际上大多数的应用都是用 Cookie 来实现Session跟踪的。服务端要求客户端在每次请求时，在cookies中带上sessionid，来进行用户识别。若浏览器禁止cookies，可使用url重写技术

总结：

Session是在服务端保存的一个数据结构，用来跟踪用户的状态，这个数据可以保存在集群、数据库、文件中；
Cookie是客户端保存用户信息的一种机制，用来记录用户的一些信息，也是实现Session的一种方式。

